(this["webpackJsonpbook-library-react"]=this["webpackJsonpbook-library-react"]||[]).push([[0],{23:function(e,t,a){e.exports=a(24)},24:function(e,t,a){"use strict";a.r(t);var n=a(16),o=a(18),l=a(19),r=a(22),c=a(7),s=a(21),i=a(10),d=a(11),u=a(12),h=a(13),m=a(14),p=a(0),b=a.n(p),f=a(8),k=a.n(f),v=(a(29),a(5)),E=a(15),B=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return b.a.createElement("div",{className:"card shadow"},this.props.handleDeleteButton&&b.a.createElement("div",{className:"float-right"},b.a.createElement("button",{type:"button",className:"close",onClick:function(){return e.props.handleDeleteButton(e.props.book.isbn)}},b.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),b.a.createElement("div",{className:"card-img-div"},b.a.createElement("img",{className:"card-img-top",alt:"",src:this.props.book.imgURL})),b.a.createElement("div",{className:"card-body"},b.a.createElement("h4",{className:"card-title"},this.props.book.title),b.a.createElement("p",{className:"card-text"},this.props.book.author),b.a.createElement("p",{className:"card-text"},"ISBN: ",this.props.book.isbn)))}}]),t}(b.a.Component),O=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return b.a.createElement("div",{className:"card-deck"},Object.entries(this.props.data).map((function(t){var a=Object(s.a)(t,2),n=a[0],o=a[1];return b.a.createElement(B,{key:n,book:o,handleDeleteButton:e.props.handleDeleteButton})})))}}]),t}(b.a.Component),j=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return b.a.createElement(v.a,{show:null!=this.props.selectedBook,onHide:this.props.handleDeleteModalClick},b.a.createElement(v.a.Header,{closeButton:!0},b.a.createElement(v.a.Title,null,"Remove from collection?")),b.a.createElement(v.a.Body,null,b.a.createElement(B,{book:this.props.selectedBook})),b.a.createElement(v.a.Footer,null,b.a.createElement(E.a,{variant:"secondary",onClick:this.props.handleDeleteModalClick},"Close"),b.a.createElement(E.a,{variant:"primary",onClick:function(t){return e.props.handleDeleteModalClick(t,e.props.selectedBook.isbn)}},"Remove")))}}]),t}(b.a.Component),y=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return b.a.createElement("div",{className:"form-group row"},b.a.createElement("label",{htmlFor:this.props.id,className:"col-sm-2 col-form-label"},this.props.label," "),b.a.createElement("div",{className:"col-sm-10"},b.a.createElement("input",{type:"text",className:"form-control",id:this.props.id,placeholder:this.props.label})))}}]),t}(b.a.Component),D=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"handleFileSelect",value:function(e){e.stopPropagation(),e.preventDefault();for(var t,a=e.dataTransfer.files,n=0;t=a[n];n++)if(t.type.match("image.*")){var o=new FileReader;o.onload=function(e){return function(t){var a=document.createElement("span");a.innerHTML=['<img class="thumb" src="',t.target.result,'" title="',escape(e.name),'"/>'].join("");var n=document.getElementById("drop-zone");n.innerHTML="",n.insertBefore(a,null)}}(t),o.readAsDataURL(t)}}},{key:"handleDragOver",value:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"}},{key:"render",value:function(){var e=this;return b.a.createElement(v.a,{show:this.props.showAddModal,onHide:this.props.handleAddButton},b.a.createElement(v.a.Header,{closeButton:!0},b.a.createElement(v.a.Title,null,"Add new book")),b.a.createElement(v.a.Body,null,b.a.createElement("form",{id:"book-form",action:"",method:"POST"},b.a.createElement(y,{id:"formBookTitle",label:"Title"}),b.a.createElement(y,{id:"formBookAuthor",label:"Author"}),b.a.createElement(y,{id:"formBookIsbn",label:"ISBN"}),b.a.createElement("div",{id:"drop-zone",onDragOver:this.handleDragOver,onDrop:this.handleFileSelect},"Drop book image here"))),b.a.createElement(v.a.Footer,null,b.a.createElement(E.a,{variant:"secondary",onClick:this.props.handleAddButton},"Close"),b.a.createElement(E.a,{variant:"primary",onClick:function(t){return e.props.handleAddButton(t,"add")}},"Add Book")))}}]),t}(b.a.Component),g=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleDeleteButton=a.handleDeleteButton.bind(Object(c.a)(a)),a.handleDeleteModalClick=a.handleDeleteModalClick.bind(Object(c.a)(a)),a.handleAddButton=a.handleAddButton.bind(Object(c.a)(a)),a.state={data:[],selectedBook:null,showAddModal:!1},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("./bookinfo.json").then((function(e){return e.json()})).then((function(t){var a=t.reduce((function(e,t){return t.imgURL="img/"+t.isbn+".jpg",e[t.isbn]=t,e}),{});return e.setState({data:a})}))}},{key:"handleDeleteModalClick",value:function(e,t){var a=this.state.data,n=(a[t],Object(l.a)(a,[t].map(r.a)));this.setState({data:n,selectedBook:null})}},{key:"handleDeleteButton",value:function(e){var t=e?this.state.data[e]:null;this.setState({selectedBook:t})}},{key:"handleAddButton",value:function(e,t){if(t){var a=document.getElementById("formBookAuthor").value,l=document.getElementById("formBookTitle").value,r=document.getElementById("formBookIsbn").value,c=document.querySelector(".thumb"),s={title:a,author:l,isbn:r,read:!1,numPages:"",imgURL:c?c.src:""};this.setState({data:Object(o.a)(Object(n.a)({},r,s),this.state.data)})}this.setState({showAddModal:!this.state.showAddModal})}},{key:"render",value:function(){return b.a.createElement("div",{className:"main-container"},b.a.createElement("div",{className:"header-container"},b.a.createElement("h2",null,"My Library Collection"),b.a.createElement("p",null,"The New York Times Bestsellers October 2019")),b.a.createElement(O,{data:this.state.data,handleDeleteButton:this.handleDeleteButton}),this.state.selectedBook&&b.a.createElement(j,{selectedBook:this.state.selectedBook,handleDeleteModalClick:this.handleDeleteModalClick}),this.state.showAddModal&&b.a.createElement(D,{showAddModal:this.state.showAddModal,handleAddButton:this.handleAddButton}),b.a.createElement("button",{type:"button",className:"fab btn-primary",onClick:this.handleAddButton},b.a.createElement("span",null,"+")))}}]),t}(b.a.Component);k.a.render(b.a.createElement(g,null),document.getElementById("root"))},29:function(e,t,a){}},[[23,1,2]]]);
//# sourceMappingURL=main.3787fb64.chunk.js.map